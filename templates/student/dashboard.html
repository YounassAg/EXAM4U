{% extends 'base.html' %}

{% block title %}Tableau de Bord - Exam4U{% endblock %}

{% block content %}
<div class="flex min-h-screen bg-gray-50 dark:bg-gray-900">
    {% include 'components/student_sidebar.html' %}
    
    <div class="flex-1 p-8 space-y-8">
        <!-- Title Section -->
        <div class="relative overflow-hidden bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
            <div class="absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full blur-xl"></div>
            <div class="relative z-10 flex items-center space-x-4">
                {% include 'components/icons.html' with icon="home" class="w-8 h-8 text-blue-600 dark:text-blue-400" %}
                <div>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">Tableau de Bord</h1>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">Bienvenue sur votre tableau de bord</p>
                </div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Total Courses -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total des Cours</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white mt-2">{{ total_courses }}</p>
                    </div>
                    <div class="w-12 h-12 rounded-lg bg-blue-600/10 flex items-center justify-center">
                        {% include 'components/icons.html' with icon="book" class="w-6 h-6 text-blue-600" %}
                    </div>
                </div>
            </div>

            <!-- Completed Exams -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Examens Complétés</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white mt-2">{{ completed_exams }}</p>
                    </div>
                    <div class="w-12 h-12 rounded-lg bg-green-600/10 flex items-center justify-center">
                        {% include 'components/icons.html' with icon="check" class="w-6 h-6 text-green-600" %}
                    </div>
                </div>
            </div>

            <!-- Upcoming Exams -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Examens à Venir</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white mt-2">{{ upcoming_exams }}</p>
                    </div>
                    <div class="w-12 h-12 rounded-lg bg-amber-600/10 flex items-center justify-center">
                        {% include 'components/icons.html' with icon="calendar" class="w-6 h-6 text-amber-600" %}
                    </div>
                </div>
            </div>

            <!-- Average Score -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 dark:text-gray-400">Note Moyenne</p>
                        <p class="text-2xl font-bold text-gray-900 dark:text-white mt-2">{{ average_score|default:"N/A" }}</p>
                    </div>
                    <div class="w-12 h-12 rounded-lg bg-purple-600/10 flex items-center justify-center">
                        {% include 'components/icons.html' with icon="chart" class="w-6 h-6 text-purple-600" %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-6">Activité Récente</h2>
            <div class="space-y-6">
                {% for activity in recent_activity %}
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 rounded-lg bg-blue-600/10 flex items-center justify-center">
                            {% include 'components/icons.html' with icon=activity.icon class="w-5 h-5 text-blue-600" %}
                        </div>
                        <div class="flex-1">
                            <p class="text-gray-900 dark:text-white font-medium">{{ activity.title }}</p>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">{{ activity.description }}</p>
                        </div>
                        <span class="text-sm text-gray-500 dark:text-gray-400">{{ activity.date }}</span>
                    </div>
                {% empty %}
                    <div class="text-center py-4">
                        <p class="text-gray-600 dark:text-gray-400">Aucune activité récente</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}